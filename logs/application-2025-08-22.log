{"command":{"args":[],"name":"exec"},"label":"src/utils/logger.js","level":"error","message":"User registration failed EXECABORT Transaction discarded because of previous errors.","previousErrors":[{"command":{"args":["auth_service:user:op:find_unique:key:264020644"],"name":"JSON.GET"}}],"stack":"ReplyError: EXECABORT Transaction discarded because of previous errors.\n    at parseError (/Users/victoroluborode/Enterprise-authentication-service/node_modules/redis-parser/lib/parser.js:179:12)\n    at parseType (/Users/victoroluborode/Enterprise-authentication-service/node_modules/redis-parser/lib/parser.js:302:14)","timestamp":"2025-08-22 23:09:44"}
{"label":"src/utils/logger.js","level":"error","message":"EXECABORT Transaction discarded because of previous errors.","method":"POST","stack":"ReplyError: EXECABORT Transaction discarded because of previous errors.\n    at parseError (/Users/victoroluborode/Enterprise-authentication-service/node_modules/redis-parser/lib/parser.js:179:12)\n    at parseType (/Users/victoroluborode/Enterprise-authentication-service/node_modules/redis-parser/lib/parser.js:302:14)","timestamp":"2025-08-22 23:09:44","url":"/api/auth/register"}
{"duration":"279ms","ip":"::ffff:127.0.0.1","label":"src/utils/logger.js","level":"error","message":"Request completed","method":"POST","status":500,"timestamp":"2025-08-22 23:09:44","url":"/api/auth/register"}
{"clientVersion":"6.14.0","label":"src/utils/logger.js","level":"error","message":"User registration failed \nInvalid `prisma.user.findUnique()` invocation in\n/Users/victoroluborode/Enterprise-authentication-service/src/routes/auth.js:68:46\n\n  65 \n  66 try {\n  67   const startFind = process.hrtime.bigint();\n→ 68   const existingUser = await prisma.user.findUnique({\n         where: {\n           email: \"skeppy110@gmail.com\"\n         },\n         cacheStrategy: {\n         ~~~~~~~~~~~~~\n           ttl: 60,\n           stale: 30\n         },\n         cache: undefined\n       })\n\nUnknown argument `cacheStrategy`. Available options are marked with ?.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.user.findUnique()` invocation in\n/Users/victoroluborode/Enterprise-authentication-service/src/routes/auth.js:68:46\n\n  65 \n  66 try {\n  67   const startFind = process.hrtime.bigint();\n→ 68   const existingUser = await prisma.user.findUnique({\n         where: {\n           email: \"skeppy110@gmail.com\"\n         },\n         cacheStrategy: {\n         ~~~~~~~~~~~~~\n           ttl: 60,\n           stale: 30\n         },\n         cache: undefined\n       })\n\nUnknown argument `cacheStrategy`. Available options are marked with ?.\n    at _n (/Users/victoroluborode/Enterprise-authentication-service/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at ei.handleRequestError (/Users/victoroluborode/Enterprise-authentication-service/node_modules/@prisma/client/runtime/library.js:121:6926)\n    at ei.handleAndLogRequestError (/Users/victoroluborode/Enterprise-authentication-service/node_modules/@prisma/client/runtime/library.js:121:6608)\n    at ei.request (/Users/victoroluborode/Enterprise-authentication-service/node_modules/@prisma/client/runtime/library.js:121:6315)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getCache (/Users/victoroluborode/Enterprise-authentication-service/node_modules/prisma-extension-redis/dist/index.js:185:20)\n    at async autoCacheAction (/Users/victoroluborode/Enterprise-authentication-service/node_modules/prisma-extension-redis/dist/index.js:207:10)\n    at async a (/Users/victoroluborode/Enterprise-authentication-service/node_modules/@prisma/client/runtime/library.js:130:9551)\n    at async /Users/victoroluborode/Enterprise-authentication-service/src/routes/auth.js:68:28","timestamp":"2025-08-22 23:15:33"}
{"label":"src/utils/logger.js","level":"error","message":"\nInvalid `prisma.user.findUnique()` invocation in\n/Users/victoroluborode/Enterprise-authentication-service/src/routes/auth.js:68:46\n\n  65 \n  66 try {\n  67   const startFind = process.hrtime.bigint();\n→ 68   const existingUser = await prisma.user.findUnique({\n         where: {\n           email: \"skeppy110@gmail.com\"\n         },\n         cacheStrategy: {\n         ~~~~~~~~~~~~~\n           ttl: 60,\n           stale: 30\n         },\n         cache: undefined\n       })\n\nUnknown argument `cacheStrategy`. Available options are marked with ?.","method":"POST","stack":"PrismaClientValidationError: \nInvalid `prisma.user.findUnique()` invocation in\n/Users/victoroluborode/Enterprise-authentication-service/src/routes/auth.js:68:46\n\n  65 \n  66 try {\n  67   const startFind = process.hrtime.bigint();\n→ 68   const existingUser = await prisma.user.findUnique({\n         where: {\n           email: \"skeppy110@gmail.com\"\n         },\n         cacheStrategy: {\n         ~~~~~~~~~~~~~\n           ttl: 60,\n           stale: 30\n         },\n         cache: undefined\n       })\n\nUnknown argument `cacheStrategy`. Available options are marked with ?.\n    at _n (/Users/victoroluborode/Enterprise-authentication-service/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at ei.handleRequestError (/Users/victoroluborode/Enterprise-authentication-service/node_modules/@prisma/client/runtime/library.js:121:6926)\n    at ei.handleAndLogRequestError (/Users/victoroluborode/Enterprise-authentication-service/node_modules/@prisma/client/runtime/library.js:121:6608)\n    at ei.request (/Users/victoroluborode/Enterprise-authentication-service/node_modules/@prisma/client/runtime/library.js:121:6315)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getCache (/Users/victoroluborode/Enterprise-authentication-service/node_modules/prisma-extension-redis/dist/index.js:185:20)\n    at async autoCacheAction (/Users/victoroluborode/Enterprise-authentication-service/node_modules/prisma-extension-redis/dist/index.js:207:10)\n    at async a (/Users/victoroluborode/Enterprise-authentication-service/node_modules/@prisma/client/runtime/library.js:130:9551)\n    at async /Users/victoroluborode/Enterprise-authentication-service/src/routes/auth.js:68:28","timestamp":"2025-08-22 23:15:33","url":"/api/auth/register"}
{"duration":"4090ms","ip":"::ffff:127.0.0.1","label":"src/utils/logger.js","level":"error","message":"Request completed","method":"POST","status":500,"timestamp":"2025-08-22 23:15:33","url":"/api/auth/register"}
{"label":"src/utils/logger.js","level":"error","message":"User registration failed prisma.user.findUnique(...).cacheStrategy is not a function","stack":"TypeError: prisma.user.findUnique(...).cacheStrategy is not a function\n    at /Users/victoroluborode/Enterprise-authentication-service/src/routes/auth.js:72:10\n    at Layer.handleRequest (/Users/victoroluborode/Enterprise-authentication-service/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/victoroluborode/Enterprise-authentication-service/node_modules/router/lib/route.js:157:13)\n    at /Users/victoroluborode/Enterprise-authentication-service/node_modules/express-rate-limit/dist/index.cjs:635:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/victoroluborode/Enterprise-authentication-service/node_modules/express-rate-limit/dist/index.cjs:553:5","timestamp":"2025-08-22 23:21:23"}
{"label":"src/utils/logger.js","level":"error","message":"prisma.user.findUnique(...).cacheStrategy is not a function","method":"POST","stack":"TypeError: prisma.user.findUnique(...).cacheStrategy is not a function\n    at /Users/victoroluborode/Enterprise-authentication-service/src/routes/auth.js:72:10\n    at Layer.handleRequest (/Users/victoroluborode/Enterprise-authentication-service/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/victoroluborode/Enterprise-authentication-service/node_modules/router/lib/route.js:157:13)\n    at /Users/victoroluborode/Enterprise-authentication-service/node_modules/express-rate-limit/dist/index.cjs:635:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/victoroluborode/Enterprise-authentication-service/node_modules/express-rate-limit/dist/index.cjs:553:5","timestamp":"2025-08-22 23:21:23","url":"/api/auth/register"}
{"duration":"134ms","ip":"::ffff:127.0.0.1","label":"src/utils/logger.js","level":"error","message":"Request completed","method":"POST","status":500,"timestamp":"2025-08-22 23:21:23","url":"/api/auth/register"}
{"email":"skeppy110@gmail.com","label":"src/utils/logger.js","level":"info","message":"User registered successfully","timestamp":"2025-08-22 23:27:00","userId":13}
{"duration":"5399ms","ip":"::ffff:127.0.0.1","label":"src/utils/logger.js","level":"info","message":"Request completed","method":"POST","status":201,"timestamp":"2025-08-22 23:27:00","url":"/api/auth/register"}
{"email":"ikeppy110@gmail.com","label":"src/utils/logger.js","level":"info","message":"User registered successfully","timestamp":"2025-08-22 23:28:50","userId":14}
{"duration":"2721ms","ip":"::ffff:127.0.0.1","label":"src/utils/logger.js","level":"info","message":"Request completed","method":"POST","status":201,"timestamp":"2025-08-22 23:28:50","url":"/api/auth/register"}
{"duration":"1672ms","ip":"::1","label":"src/utils/logger.js","level":"info","message":"Request completed","method":"GET","status":200,"timestamp":"2025-08-22 23:30:00","url":"/api/auth/verify-email?token=7487e035cf4b4581f0d8c40b8ad7ddd109a5ae31ce2985fb406f60ffda91f0e2&tokenId=a4d765f4-f990-48fb-9c65-f9a08b45a078"}
{"duration":"11ms","ip":"::1","label":"src/utils/logger.js","level":"error","message":"Request completed","method":"GET","status":404,"timestamp":"2025-08-22 23:30:01","url":"/favicon.ico"}
